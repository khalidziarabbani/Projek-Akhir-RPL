{% extends 'base.html' %}
{% block title %}Register{% endblock title %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'login.css' %}">
    <div class="background"></div>
    <div class="container-register">
        <div class="judul">
            <p>Create your account</p>
        </div>
        <div class="input-box">
            <form action="" method="post">
                {% csrf_token %}
                <div class="input-field">
                    <input type="text" name="username" placeholder="Enter your name" required>
                    <i class="uil uil-user icon"></i>
                </div>
                <div class="input-field">
                    <input type="text" name="email" placeholder="Enter your email" required>
                    <i class="uil uil-envelope icon"></i>
                </div>
                <div class="input-field">
                    <input type="password" name="password1" class="password" placeholder="Enter your password" required>
                    <i class="uil uil-lock icon"></i>
                    <i class="uil uil-eye-slash showHidePw"></i>
                </div>
                <div class="input-field">
                    <input type="password" name="password2" class="password" placeholder="Confirm your password" required>
                    <i class="uil uil-lock icon"></i>
                    <i class="uil uil-eye-slash showHidePw"></i>
                </div>

                <div class="input-field button">
                    <input type="submit" value="Create Account">
                </div>
            </form>
        </div>
        <div class="login-signup">
            <span class="text">Already have an account?
                <a href="{% url 'login' %}" class="text signup-link">Login Now</a>
            </span>
        </div>
    </div>
    <div class="sisa-background"></div>

    <script>
        const container = document.querySelector(".container"),
    pwShowHide = document.querySelectorAll(".showHidePw"),
    pwFields = document.querySelectorAll(".password"),
    signUp = document.querySelector(".signup-link"),
    login = document.querySelector(".login-link");

    pwShowHide.forEach(eyeIcon =>{
        eyeIcon.addEventListener("click", ()=>{
            pwFields.forEach(pwField =>{
                if(pwField.type ==="password"){
                    pwField.type = "text";

                    pwShowHide.forEach(icon =>{
                        icon.classList.replace("uil-eye-slash", "uil-eye");
                    })
                }else{
                    pwField.type = "password";

                    pwShowHide.forEach(icon =>{
                        icon.classList.replace("uil-eye", "uil-eye-slash");
                    })
                }
            }) 
        })
    })

    signUp.addEventListener("click", ( )=>{
        container.classList.add("active");
    });
    login.addEventListener("click", ( )=>{
        container.classList.remove("active");
    });
    </script>

{% endblock content %}